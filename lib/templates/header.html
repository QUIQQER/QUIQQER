
    <title>
        {$Template->getAttribute('site_title_prefix')}
        {$Site->getAttribute('meta.seotitle')|escape:"html"}
        {$Template->getAttribute('site_title_suffix')}
        {$Template->getAttribute('site_title')}
    </title>

    <!-- [begin] meta -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    {if $Template->getAttribute('html5') === false}
    <meta http-equiv="content-language" content="{$Project->getlang()}" />
    <meta name="page-topic" content="{$Site->getAttribute('title')|escape:"html"}" />

    <meta name="date" content="{$Site->getAttribute('e_date')}" />
    <meta name="lang" content="{$Project->getLang()}" />
    <meta name="copyright" content="{$Project->getConfig('meta.copyright')}" />
    <meta name="publisher" content="{$Project->getConfig('meta.publisher')}" />
    {/if}

    <meta name="description" content="{$Site->getAttribute('meta.description')|escape:"html"}" />
    <meta name="keywords" content="{$Site->getAttribute('meta.keywords')|escape:"html"}" />
    {if $Locale->no_translation}
    <meta name="robots" content="noindex" />
    {else}
    <meta name="robots" content="{$Site->getAttribute('meta.robots')}" />
    {/if}

    <meta name="generator" content="{$smarty.const.GENERATOR}" />
    <meta name="author" content="{$Site->getAttribute('meta.author')}" />
    <meta name="revisit-after" content="{$Site->getAttribute('meta.revisit')}" />
    <!-- [end] meta -->

    <script type="text/javascript">
        var URL_DIR          = '{$URL_DIR}';
            URL_OPT_DIR      = '{$URL_OPT_DIR}',
            URL_BIN_DIR      = '{$URL_BIN_DIR}',
            URL_LIB_DIR      = '{$URL_LIB_DIR}';
            URL_VAR_DIR      = '{$URL_VAR_DIR}',
            URL_PROJECT_DIR  = '{$URL_USR_DIR}{$Project->getName()}/',
            URL_TEMPLATE_DIR = '{$URL_OPT_DIR}{$Project->getAttribute('template')}/';

        var QUIQQER = {
            lu : "{$lastUpdate}"
        };

        {assign var=httpshost value=$Project->getVHost( true, true )}
        var QUIQQER_PROJECT = {
            name : '{$Project->getName()}',
            lang : '{$Project->getLang()}',
            httpshost : {if strpos( $httpshost, 'https' ) !== false}'{$httpshost}'{else}false{/if}
        };

        var QUIQQER_USER = {
            id   : '{$User->getId()}',
            name : '{$User->getName()}',
            lang : '{$User->getLang()}'
        };

        var QUIQQER_SITE = {
            id   : '{$Site->getId()}',
            type : '{$Site->getAttribute("type")}'
        };

        var QUIQQER_ONLOAD_MODULES = {$loadModuleFiles|json_encode:true},
            QUIQQER_LOCALE         = {$localeFiles|json_encode:true};

        {if "LOGIN_FAILED"|defined}
        var QUIQQER_LOGIN_FAILED = "{locale group="quiqqer/system" value="exception.login.fail"}";
        {/if}

    </script>

    {if $Template->getAttribute('mootools')}
        <!-- mootools -->
        <script src="{$URL_OPT_DIR}bin/qui/build/qui/lib/mootools-core.js?lu={$lastUpdate}"></script>
        <script src="{$URL_OPT_DIR}bin/qui/build/qui/lib/mootools-more.js?lu={$lastUpdate}"></script>
        <script src="{$URL_OPT_DIR}bin/qui/build/qui/lib/moofx.js?lu={$lastUpdate}"></script>
    {/if}

    {if $Template->getAttribute('requirejs')}
        <!-- include components -->
        <script src="{$URL_OPT_DIR}bin/require-built.js?lu={$lastUpdate}"></script>
        <script>
            require.config({
                baseUrl : URL_DIR,
                paths   : {
                    "package"   : URL_OPT_DIR,
                    "locale"    : URL_VAR_DIR +'locale/bin',
                    "qui"       : URL_OPT_DIR +'bin/qui/qui',
                    "classes"   : URL_BIN_DIR +'QUI/classes',
                    "controls"  : URL_BIN_DIR +'QUI/controls',
                    "utils"     : URL_BIN_DIR +'QUI/utils',
                    "polyfills" : URL_BIN_DIR +'QUI/polyfills',
                    "Controls"  : URL_BIN_DIR +'Controls',
                    "project"   : URL_TEMPLATE_DIR +'bin/js',

                    "Ajax"          : URL_BIN_DIR +'QUI/Ajax',
                    "Locale"        : URL_BIN_DIR +'QUI/Locale',
                    "UploadManager" : URL_BIN_DIR +'QUI/UploadManager'
                },
                waitSeconds : 0,
                locale      : QUIQQER_USER.lang +"-"+ QUIQQER_USER.lang,
                catchError  : true,
                urlArgs     : "update={$lastUpdate}",

                map : {
                    '*': {
                        'css'    : URL_OPT_DIR +'bin/qui/build/qui/lib/css.js'
                    }
                }
            });
        </script>
    {/if}

    <!-- picture fill polyfill -->
    <script>
        require(['polyfills/picturefill.min']);
    </script>

    <!-- canonical -->
    {$Canonical->output()}


    {if $Template->getAttribute('rel_next')}
        <link rel="next" href="{url site=$Smarty->getHeaderAttribute('rel_next')}" />
    {/if}

    {if $Template->getAttribute('rel_prev')}
        <link rel="prev" href="{url site=$Smarty->getHeaderAttribute('rel_prev')}" />
    {/if}

    {assign var=projectLang value=$Project->getLang()}
    {assign var=projectLangs value=$Project->getAttribute('langs')}
    {foreach from=$projectLangs item=lang}
    {if $projectLang != $lang && $Site->existLang( $lang )}
        <link rel="alternate" hreflang="{$lang}" href="{url id=$Site->getId( $lang ) lang=$lang}" />
    {/if}
    {/foreach}

    {* type Files *}
    {if isset( $siteStyle )}
        <link href="{$siteStyle}" rel="stylesheet" />
    {/if}

    {if isset( $siteScript )}
        <script type="text/javascript" src="{$siteScript}"></script>
    {/if}

    {$headerExtend}